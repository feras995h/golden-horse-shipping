{
  "timestamp": "2025-09-26T10:40:25.108Z",
  "environment": {
    "backend": "http://localhost:3001",
    "frontend": "http://localhost:3000",
    "nodeVersion": "v22.19.0"
  },
  "categories": {
    "infrastructure": {
      "passed": 3,
      "failed": 1,
      "tests": [
        {
          "name": "Backend Server Health",
          "success": true,
          "message": "Status: 200",
          "details": {
            "status": "ok",
            "timestamp": "2025-09-26T10:40:25.178Z",
            "service": "Golden Horse Shipping API",
            "version": "1.0.0"
          },
          "timestamp": "2025-09-26T10:40:25.188Z"
        },
        {
          "name": "Frontend Server Health",
          "success": true,
          "message": "Status: 200",
          "details": null,
          "timestamp": "2025-09-26T10:40:25.303Z"
        },
        {
          "name": "Database Connectivity",
          "success": false,
          "message": "Request failed with status code 401",
          "details": null,
          "timestamp": "2025-09-26T10:40:25.308Z"
        },
        {
          "name": "ShipsGo API Health",
          "success": true,
          "message": "Status: 200",
          "details": {
            "configured": true,
            "rateLimit": 100,
            "mockMode": false,
            "apiUrl": "https://api.shipsgo.com/v2",
            "fallbackEnabled": "true",
            "status": "Real API with fallback"
          },
          "timestamp": "2025-09-26T10:40:25.312Z"
        }
      ]
    },
    "authentication": {
      "passed": 3,
      "failed": 1,
      "tests": [
        {
          "name": "Admin Login",
          "success": true,
          "message": "Token received: true",
          "details": {
            "role": "admin"
          },
          "timestamp": "2025-09-26T10:40:25.560Z"
        },
        {
          "name": "Invalid Login Rejection",
          "success": true,
          "message": "Correctly rejected invalid credentials",
          "details": null,
          "timestamp": "2025-09-26T10:40:25.571Z"
        },
        {
          "name": "JWT Token Validation",
          "success": true,
          "message": "Token successfully validated",
          "details": {
            "id": "97b314ce-fa47-4bb3-8130-c9adf4b48597",
            "username": "admin",
            "email": "admin@goldenhorse.com",
            "fullName": "مدير النظام",
            "role": "admin",
            "isActive": true,
            "lastLogin": "2025-09-26T10:40:25.544Z",
            "createdAt": "2025-09-25T21:03:08.000Z",
            "updatedAt": "2025-09-26T10:40:25.000Z"
          },
          "timestamp": "2025-09-26T10:40:25.586Z"
        },
        {
          "name": "Customer Direct Access",
          "success": false,
          "message": [
            "property trackingNumber should not exist",
            "token should not be empty",
            "token must be a string"
          ],
          "details": null,
          "timestamp": "2025-09-26T10:40:25.591Z"
        }
      ]
    },
    "api": {
      "passed": 5,
      "failed": 1,
      "tests": [
        {
          "name": "API Endpoint: /api/health",
          "success": true,
          "message": "Status: 200",
          "details": {
            "dataReceived": true,
            "dataType": "object"
          },
          "timestamp": "2025-09-26T10:40:25.604Z"
        },
        {
          "name": "API Endpoint: /api/settings",
          "success": false,
          "message": "Unauthorized",
          "details": null,
          "timestamp": "2025-09-26T10:40:25.611Z"
        },
        {
          "name": "API Endpoint: /api/clients",
          "success": true,
          "message": "Status: 200",
          "details": {
            "dataReceived": true,
            "dataType": "object"
          },
          "timestamp": "2025-09-26T10:40:25.624Z"
        },
        {
          "name": "API Endpoint: /api/shipments",
          "success": true,
          "message": "Status: 200",
          "details": {
            "dataReceived": true,
            "dataType": "object"
          },
          "timestamp": "2025-09-26T10:40:25.652Z"
        },
        {
          "name": "API Endpoint: /api/reports/shipments",
          "success": true,
          "message": "Status: 200",
          "details": {
            "dataReceived": true,
            "dataType": "object"
          },
          "timestamp": "2025-09-26T10:40:25.666Z"
        },
        {
          "name": "API Endpoint: /api/users",
          "success": true,
          "message": "Status: 200",
          "details": {
            "dataReceived": true,
            "dataType": "object"
          },
          "timestamp": "2025-09-26T10:40:25.672Z"
        }
      ]
    },
    "tracking": {
      "passed": 0,
      "failed": 4,
      "tests": [
        {
          "name": "ShipsGo Container Tracking",
          "success": false,
          "message": "ShipsGo API Error: V2 API error: Request failed with status code 404",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.002Z"
        },
        {
          "name": "ShipsGo BL Tracking",
          "success": false,
          "message": "Shipment not found in ShipsGo API: BL123456789",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.125Z"
        },
        {
          "name": "Internal Shipment Tracking",
          "success": false,
          "message": "Shipment not found",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.143Z"
        },
        {
          "name": "Client Shipments Lookup",
          "success": false,
          "message": "Client not found",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.158Z"
        }
      ]
    },
    "security": {
      "passed": 3,
      "failed": 1,
      "tests": [
        {
          "name": "Protected Route Access Control",
          "success": true,
          "message": "Correctly blocks unauthorized access",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.165Z"
        },
        {
          "name": "Invalid JWT Rejection",
          "success": true,
          "message": "Correctly rejects invalid JWT",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.168Z"
        },
        {
          "name": "SQL Injection Protection",
          "success": true,
          "message": "Server handled injection attempt gracefully",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.184Z"
        },
        {
          "name": "CORS Headers",
          "success": false,
          "message": "CORS configured: false",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.187Z"
        }
      ]
    },
    "integration": {
      "passed": 3,
      "failed": 0,
      "tests": [
        {
          "name": "Frontend-Backend Connectivity",
          "success": true,
          "message": "Frontend can communicate with backend",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.190Z"
        },
        {
          "name": "API Response Format",
          "success": true,
          "message": "API returns consistent JSON format",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.199Z"
        },
        {
          "name": "Error Handling Consistency",
          "success": true,
          "message": "Correctly returns 404 for non-existent endpoints",
          "details": null,
          "timestamp": "2025-09-26T10:40:26.206Z"
        }
      ]
    }
  },
  "summary": {
    "totalPassed": 17,
    "totalFailed": 8,
    "successRate": 68
  }
}